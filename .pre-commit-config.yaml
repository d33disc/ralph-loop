# prek config - optimized for Ralph loop
# Uses repo: builtin for zero-network, zero-setup Rust-native hooks
# Install: curl --proto '=https' --tlsv1.2 -LsSf https://github.com/j178/prek/releases/download/v0.2.30/prek-installer.sh | sh
# Run: prek run --all-files

minimum_prek_version: "0.2.30"

repos:
  # Built-in Rust-native hooks - instant, no network, no Python
  - repo: builtin
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-merge-conflict
      - id: check-added-large-files
        args: ['--maxkb=500']
      - id: check-yaml
      - id: check-json
      - id: check-toml
      - id: detect-private-key
      # Uncomment to protect branches from direct commits
      # - id: no-commit-to-branch
      #   args: ['--branch', 'main', '--branch', 'master']
